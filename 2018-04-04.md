# Repaso discos en Windows y Linux

# Windows

## Operaciones sobre discos:
- Crear particiones
- Borrar particiones
- Recuperar particiones eliminadas
- Cifrar
- Comprimir
- Convertir entre sistemas de archivos

## Discos dinámicos
http://windows.microsoft.com/es-es/windows-vista/what-are-basic-and-dynamic-disks

## Crear un script que detecta unidades compartidas y mueve los ficheros que contienen a otra unidad
### Detectar unidades
```PowerShell
(GET-WMIOBJECT –query “SELECT * from win32_logicaldisk”)
```
```PowerShell
(GET-WMIOBJECT –query “SELECT * from win32_logicaldisk”).DeviceID
```
```PowerShell
GET-WMIOBJECT –query “SELECT * from win32_logicaldisk where DriveType = ‘3’”
```
```PowerShell
GET-WMIOBJECT –query “SELECT * from win32_logicaldisk” | Select-Object DeviceID
```
```PowerShell
(GET-WMIOBJECT –query “SELECT * from win32_logicaldisk” | Select-Object DeviceID).DeviceID
```
```PowerShell
(GET-WMIOBJECT –query “SELECT * from win32_logicaldisk” | Select-Object DeviceID).DeviceID | Select-String "q:"
```
```PowerShell
Get-ChildItem (GET-WMIOBJECT –query “SELECT * from win32_logicaldisk” | Select-Object DeviceID).DeviceID | Select-String "c:"
```
```PowerShell
$unidad=(GET-WMIOBJECT –query “SELECT * from win32_logicaldisk” | Select-Object DeviceID).DeviceID | Select-String "c:"
$unidad
```
```PowerShell
$unidad=(GET-WMIOBJECT –query “SELECT * from win32_logicaldisk” | Select-Object DeviceID).DeviceID | Select-String "c:"
$unidad
Get-ChildItem $unidad
```
```PowerShell
$unidad=(GET-WMIOBJECT –query “SELECT * from win32_logicaldisk” | Select-Object DeviceID).DeviceID | Select-String "c:"
$unidad
Get-ChildItem $unidad -Recurse
```
```PowerShell
Get-ChildItem c:\ -Recurse *.txt
Get-ChildItem c:\ -Recurse *.txt | %{copy-Item $_ $dondequierase}
```

### Create a drive mapped to a network share
https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/new-psdrive?view=powershell-6
```PowerShell
New-PSDrive -Name "P" -PSProvider "FileSystem" -Root "\\Server01\Public"
```

## PowerShell: Partition verkleinern und neu partitionieren (reducir tamaño de partición y crear una nueva)
https://sid-500.com/2017/09/03/powershell-festplatte-verkleinern-und-neu-partitionieren/

## Recuperar particiones eliminadas
http://www.redeszone.net/windows/como-recuperar-particiones-eliminadas-o-borradas-con-testdisk/

## Hiren's BootCD
http://www.hiren.info/pages/bootcd

# Linux

## Repaso para la parte de scripting
* http://www.freeos.com/guides/lsst/ch02.html
* http://www.freeos.com/guides/lsst/ch02sec20.html

## Differences between /dev/sda and /dev/sda1
http://serverfault.com/questions/338937/differences-between-dev-sda-and-dev-sda1

## Obtener tipo de partición, UUID y el identificador del nodo. BLKID
```Bash
blkid
```

## Muestra información referente a los dispositivos conectados a los puertos USB
```Bash
lsusb
```

## Montar un sistema SMB
```Bash
sudo mount -t cifs //10.0.1.101/copias /mnt/backup
```

## Sincronizar carpetas montadas
```Bash
rsync -rutv --progress --bwlimit=40000 /srv/carpeta/ /mnt/backup/carpeta/
rsync -rutvl --progress --bwlimit=40000 /var/www/web/ /mnt/backup/www
```

## Crear un RAID
https://www.computernetworkingnotes.com/rhce-study-guide/how-to-configure-raid-in-linux-step-by-step-guide.html

## Conectarse desde GNU/Linux a una carpeta Windows compartida (Samba)
http://fraterneo.blogspot.com.es/2011/06/conectarse-desde-gnulinux-una-carpeta.html

## Clonar con Clonezilla
http://clonezilla.org/
