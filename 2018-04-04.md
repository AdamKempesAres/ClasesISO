# Repaso discos en Windows y Linux

# Windows

## Operaciones sobre discos:
- Crear particiones
- Borrar particiones
- Recuperar particiones eliminadas
- Cifrar
- Comprimir
- Convertir entre sistemas de archivos

## Crear un script que detecta unidades compartidas y mueve los ficheros que contienen a otra unidad
### Detectar unidades
```PowerShell
(GET-WMIOBJECT –query “SELECT * from win32_logicaldisk”)
(GET-WMIOBJECT –query “SELECT * from win32_logicaldisk”).DeviceID
GET-WMIOBJECT –query “SELECT * from win32_logicaldisk where DriveType = ‘3’”
```
### Create a drive mapped to a network share
https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/new-psdrive?view=powershell-6
```PowerShell
New-PSDrive -Name "P" -PSProvider "FileSystem" -Root "\\Server01\Public"
```

## PowerShell: Partition verkleinern und neu partitionieren (reducir tamaño de partición y crear una nueva)
https://sid-500.com/2017/09/03/powershell-festplatte-verkleinern-und-neu-partitionieren/

## Recuperar particiones eliminadas
http://www.redeszone.net/windows/como-recuperar-particiones-eliminadas-o-borradas-con-testdisk/

# Linux

## Differences between /dev/sda and /dev/sda1
http://serverfault.com/questions/338937/differences-between-dev-sda-and-dev-sda1

## Montar un sistema SMB
```Bash
sudo mount -t cifs //10.0.1.101/copias /mnt/backup
```
## Sincronizar carpetas montadas
```Bash
rsync -rutv --progress --bwlimit=40000 /srv/carpeta/ /mnt/backup/carpeta/
rsync -rutvl --progress --bwlimit=40000 /var/www/web/ /mnt/backup/www
```
