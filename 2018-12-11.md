# Examen liberatorio II

- Realizar una función de muestre el consumo de procesador analizando dos valores (consumo -cpu 20 -id 6000).

```PowerShell
# Sirve para ir de uno en uno
(Get-Process | select $proceso).cpu -gt $valor

# Varios valores
Get-Process | Where-Object cpu -gt 10 | Where-Object id -gt 6000
```



- Realizar una función que permita detectar que hay una firma que ha cambiado en un programa.
```PowerShell
# Función simple para almacenar un hash de un programa
function hashear($ruta){
    Get-FileHash $ruta
}

(hashear 'C:\Windows\System32\notepad.exe' | select hash).hash | Out-File hash.txt

(gc hash.txt)

Get-Process | select Path | %{
    hashear $_.Path
}

Get-Process | select Path | %{
    (hashear $_.Path).hash
}

Get-Process | select Path | %{
    if ((hashear $_.Path).hash -match (gc hash.txt))
    {
        "Igual",$_.path
    }
}
```
- Realizar una función que muestre información sobre los hilos de un proceso.
- Realizar una función que muestre los procesos que utilizan un controlador.
